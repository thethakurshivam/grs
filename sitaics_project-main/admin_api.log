EMAIL_USER: trinayan.1303@gmail.com
EMAIL_PASS: LOADED
Current working directory: /Users/trinayanmahato/grs/sitaics_project-main
Server is running on port 3000
API endpoints available at http://localhost:3000/api
Connected to MongoDB at mongodb://localhost:27017/sitaics
Fetching courses with status: upcoming
Fetching courses with status: ongoing
Fetching courses with status: completed
Found courses: 0
Sample course: undefined
Found courses: 0
Sample course: undefined
Found courses: 0
Sample course: undefined
MOUs found: 0
🔍 Admin requesting pending credits for approval...
📊 Found 1 pending credits that need admin approval
🔍 Query criteria: admin_approved: false
📋 Admin can see 1 pending credits that need approval
💡 These credits have been approved by POC and are now waiting for admin approval
Fetching courses with status: completed
Fetching courses with status: ongoing
Fetching courses with status: upcoming
MOUs found: 0
Found courses: 0
Sample course: undefined
Found courses: 0
Sample course: undefined
Found courses: 0
Sample course: undefined
🔍 Admin requesting pending credits for approval...
📊 Found 2 pending credits that need admin approval
🔍 Query criteria: admin_approved: false
📋 Admin can see 2 pending credits that need approval
💡 These credits have been approved by POC and are now waiting for admin approval
✅ Pending credit 68a3044b0851b7f59f0de3aa is now fully approved by both admin and BPRND POC
🔍 Available umbrella fields: Cyber_Security, Military_Law, Forensics, Criminology, Police_Administration, Defence
🔍 Normalized discipline: "defence"
✅ Credits applied: 34 credits added to student 68a06e29b24bd983a3e92d55 in field: Defence
🔍 Count calculation: Last count (0) + New credits (34) = New count (34)
✅ Course history saved for student 68a06e29b24bd983a3e92d55: aman - 34 credits | Total count: 34
✅ Pending credit record 68a3044b0851b7f59f0de3aa deleted after successful credit application
🔍 Admin requesting pending credits for approval...
📊 Found 1 pending credits that need admin approval
🔍 Query criteria: admin_approved: false
📋 Admin can see 1 pending credits that need approval
💡 These credits have been approved by POC and are now waiting for admin approval
Fetching courses with status: completed
Fetching courses with status: ongoing
Fetching courses with status: upcoming
Found courses: 0
Sample course: undefined
Found courses: 0
Sample course: undefined
Found courses: 0
Sample course: undefined
MOUs found: 0
🚀 Admin route /api/bprnd/claims called
📝 Query parameters: { status: undefined }
🔍 Filter applied: { poc_approved: true, admin_approved: { '$ne': true } }
📊 Found 0 claims in database
📋 Admin can see 0 BPRND certification claims
💡 Each claim includes detailed course breakdown for transparency
Fetching courses with status: completed
Fetching courses with status: upcoming
Fetching courses with status: ongoing
Found courses: 0
Sample course: undefined
Found courses: 0
Sample course: undefined
Found courses: 0
Sample course: undefined
MOUs found: 0
🔍 Admin requesting pending credits for approval...
📊 Found 1 pending credits that need admin approval
🔍 Query criteria: admin_approved: false
📋 Admin can see 1 pending credits that need approval
💡 These credits have been approved by POC and are now waiting for admin approval
🚀 Admin route /api/bprnd/claims called
📝 Query parameters: { status: undefined }
🔍 Filter applied: { poc_approved: true, admin_approved: { '$ne': true } }
📊 Found 1 claims in database
📋 Claim 1: {
  id: new ObjectId("68a304920851b7f59f0de3bf"),
  umbrella: 'Defence',
  status: 'poc_approved',
  hasCourses: true,
  coursesCount: 1
}
🔍 Processing claim 68a304920851b7f59f0de3bf: {
  hasCourses: true,
  coursesLength: 1,
  coursesData: [
    {
      courseName: 'aman',
      organization: 'bprnd',
      hoursEarned: 450,
      creditsEarned: 30,
      completionDate: 2025-08-18T10:46:42.870Z,
      courseId: new ObjectId("68a304800ef0d188ae048610"),
      _id: new ObjectId("68a304920851b7f59f0de3c0")
    }
  ],
  umbrellaKey: 'Defence',
  status: 'poc_approved'
}
📋 Admin can see 1 BPRND certification claims
💡 Each claim includes detailed course breakdown for transparency
✅ Admin approved claim 68a304920851b7f59f0de3bf for Defence - diploma
🎉 Claim finalized: 30 credits deducted, certificate issued
🚀 Admin route /api/bprnd/claims called
📝 Query parameters: { status: undefined }
🔍 Filter applied: { poc_approved: true, admin_approved: { '$ne': true } }
📊 Found 0 claims in database
📋 Admin can see 0 BPRND certification claims
💡 Each claim includes detailed course breakdown for transparency
